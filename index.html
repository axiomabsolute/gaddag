<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <link href="https://fonts.googleapis.com/css?family=Dosis" rel="stylesheet">
  <link rel="stylesheet" href="https://unpkg.com/purecss@1.0.0/build/pure-min.css" integrity="sha384-nn4HPE8lTHyVtfCBi5yW9d20FjT8BJwUXyWZT9InLYax14RDjBj46LmSztkmNP9w" crossorigin="anonymous">
</head>

<body>
  <style>
    body {
      font-family: 'Dosis', sans-serif;
      background-color: #DDD;
    }

    .node text {
      font: 16px sans-serif;
    }

    .link {
      fill: none;
      stroke: #555;
      stroke-opacity: 0.4;
      stroke-width: 1.5px;
    }

    .hidden {
      visibility: hidden;
    }

    /* Visualization Styles */
    .bar:hover {
      fill: orangered;
    }

    div.tooltip {	
      position: absolute;			
      text-align: center;			
      /* width: 60px;					 */
      /* height: 28px;					 */
      padding: .5em;				
      background: lightsteelblue;	
      border: 0px;		
      border-radius: 8px;			
      pointer-events: none;			
    }

    .mark-group.role-frame.root>g>g>.role-legend {
      display: none;
    }

    label {
      display: block;
    }

    .intro-node {
      cursor: pointer;
      user-select: none;
    }

    .top-axis {
      cursor: pointer;
    }

    /* Components */
    .card {
      margin: .5em;
      padding: .5em;
      box-shadow: 0 2px 2px 0 rgba(0,0,0,0.14), 0 1px 5px 0 rgba(0,0,0,0.12), 0 3px 1px -2px rgba(0,0,0,0.2);
      border-radius: 2px;
      background-color: white;
    }

    .card.card--reversed {
      box-shadow: 1px -2px 4px 0 rgba(0,0,0,0.14), 0 1px 5px 0 rgba(0,0,0,0.12), 0 3px 1px -2px rgba(0,0,0,0.2);
    }

    /* Base show styles */
    .slide-show {
      display: flex;
      height: 98vh;
    }

    .slide-show .show {
      flex-grow: 1;
      display: flex;
    }

    .slide-show .show-controls {
      flex-grow: 0;
      flex-basis: 50px;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
    }

    .page-dots {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
    }

    .page-dot {
      text-decoration: none;
      padding: .4em;
      background-color: aliceblue;
      border-radius: 20px;
      width: 18px;
      height: 18px;
      text-align: center;
      margin: 0.2em 0;
    }

    .page-dot--active {
      background-color: lightcoral;
    }

    /* Message layout */
    .message-slide {
      flex-grow: 1;
      justify-content: center;
      align-items: center;
      display: flex;
    }

    .message-slide .message {
      height: 90%;
      width: 100%;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
    }

    .message-slide .slide-title {
      font-size: 24px;
    }

    .message-slide .slide-text {
      font-size: 18px;
      padding-left: 5em;
      padding-right: 5em;
      overflow-y: auto;
    }

    /* Exploration layout */
    .exploration-slide {
      flex-grow: 1;
    }

    .exploration-slide .slide-header {
      height: 245px;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
    }

    .exploration-slide .slide-title {
      font-size: 24px;
    }

    .exploration-slide .slide-text {
      font-size: 18px;
      padding-right: .5em;
    }

    .exploration-slide .slide-body {
      display: flex;
      flex-direction: row;
    }

    .exploration-slide .slide-text {
      overflow-y: auto;
    }

    @media (max-width: 1300px) { 
      .exploration-slide .slide-body {
        flex-direction: column;
      }

      .exploration-slide .slide-controls {
        flex-basis: 0 !important;
        flex-grow: 0;
        width: 350px;
      }

     }

    .exploration-slide .slide-controls {
      flex-basis: 300px;
      flex-grow: 0;
    }

    .exploration-slide .slide-visual {
      flex-grow: 1;
    }

    .exploration-slide .slide-explorations {
      position: fixed;
      bottom: -.5em;
      right: 4em;
      background-color: #EEE;
      transform: translate(0px, 235px);
    }

    .exploration-slide .slide-explorations.slide-explorations--expanded {
      transform: translate(0px, 0px);
    }

    .exploration-slide .explorations-handle {
      cursor: pointer;
    }

    .exploration-slide .explorations-content {
      width: 700px;
      height: 250px;
      overflow: auto;
    }

  </style>

  <div class="slide-show">
    <div class="show"></div>
    <div class="show-controls hidden">
      <button class="prev-slide"><i class="fa fa-chevron-up"></i></button>
      <div class="page-dots"></div>
      <button class="next-slide"><i class="fa fa-chevron-down"></i></button>
    </div>
  </div>

  <template id="about-slide">
    <div data-selector=".slide-title">
      About This Presentation
    </div>
    <div data-selector=".slide-text">
      <p>
        This presentation explores the word-building boardgame Scrabble using the <a href="http://dreamsteep.com/projects/the-english-open-word-list.html">English Open Word List (EOWL)</a>,
        an open source word list that may be freely used to build electronic and traditional word games. Importantly, this project does <em>not</em> use the official Scrabble dictionary,
        which does not have an open license.
      </p>
      <p>
        The presentation is structured as an interactive slide show. The show has two primary sections: a dynamic section where each slide of the show is rendered and a static section which
        persists between slides showing the shows navigation controls. Each slide contains four distinc sections.  The top section contains the slide's title and description. The left
        section contains user input controls which are bound to parameters specific to each slide. The central section contains the D3, Vega, or Vega-Lite driven visualization for the
        slide. Lastly, a floating, collaptible panel titled "Explorations" contains suggested, guided advice for users as they progress through the show. The first slide, shown as the landing
        page, explains each of the sections in more detail and provides a simple example visualization to guide the user through each section.
      </p>
      <h4>Outline</h4>
      <p>
        The following is an outline of the annotations, parameters, triggers, and UI events available on each slide of the presentation.
      </p>
      <ol>
        <li>
          Across the presentation
          <ul>
            <li>
              Users may navigate through the presentation using the up and down arrow buttons on the right-hand side of the screen. They may also jump to specific scenes by clicking
              the numbered circle for the desired scene.
            </li>
            <li>
              Each slide features a custom set of controls specific to the parameters of that slide. They are displayed on the left-hand side. Details on a slide-by-slide basis are
              provided below.
            </li>
            <li>
              Each slide features a section of recommended explorations, suggesting certain configurations of parameters and sequences of user interactions to help users explore that
              particular slide. These recommended exploations are shown in a floating panel titled "Explorations". Users may click the title of this panel to collapse it off-screen at
              any time, and click it again to expand it. Details on a slide-by-slide basis are provided below. This section is the primary method of guiding the user through each slide.
            </li>
          </ul>
        </li>
        <li>
          A game of Anagrams
          <ul>
            <li>
              This slide visualizes a set of letters as a row of circles in a random order. After a brief delay upon loading, the letters unscramble to reveal the word "SCRABBLE".
            </li>
            <li>
              Users may input text on the left-hand side in the control panel and click the button to update the set of letters used. The letters are displayed in a random order and
              unscramble themselves after a brief delay.
            </li>
            <li>
              Users may click the circles containing the letters to randomize the order of the letters.
            </li>
            <li>This slide does not feature any annotations</li>
          </ul>
        </li>
        <li>
          Small Plays
          <ul>
            <li>
              This slide visualizes the set of possible two-letter words as a 26 by 26 grid of dots. Each dot is colored according to whether the word in that position is a valid play
              according to the EOWL word list.
            </li>
            <li>This visualization does not use any parameters.</li>
            <li>
              This visualization features two UI actions. Users may click on the horizontal axis title to collapse the data along that axis, transforming the visualization from a grid
              to a histogram of words by their first letter. Users may hover over the marks of either chart to display either the individual word validity or the aggregate ratio of 
              valid words to possible words, as appropriate to the visualization's state. Both interactions are described in the recommended explorations section.
            </li>
          </ul>
        </li>
        <li>
          Sparseness
          <ul>
            <li>
              This slide visualizes the relative sparseness of valid plays within the playable word space, broken down by word length.
            </li>
            <li>
              The visualization features two parameters, which are bound to controls in the left panel. The first control toggles the visualization state from showing raw counts
              to a ratio of valid words to possible words, similar to the previous slide, but not broken down by first letter. the second control is bound to the exponent used to
              generate the vertical y-axis of the chart. This axis uses a power scale, allowing users to lower the exponent in order to emphasize smaller values in the graph. Both
              interactions are mentioned in the explorations section.
            </li>
            <li>
              Users may also hover each mark in the graph to display a tooltip annotation containing the actual numbers used to generate the bar heights.
            </li>
          </ul>
        </li>
        <li>
          Patterns: Prefies, Suffixes, and Other Patterns
          <ul>
            <li>
              This slide shows a breakdown of the lexicon according to a combination of common prefixes, suffixes, and infix patterns, along with user provided patterns. It contains two
              visualizations, which are described in detail in the top portion of that slide.
            </li>
            <li>
              The slide features one parameter, labeled pattern, which is used as a filter against the lexicon. The pattern paremter is bound to an input control in the controls section.
            </li>
            <li>
              Tooltip annotations are shown on each sub-visualization by hovering over the marks. In the second chart, marks are colored according to whether the pattern is a prefix, suffix,
              or an infix pattern.
            </li>
          </ul>
        </li>
        <li>
          GADDAG
          <ul>
            <li>
              This slide shows a network diagram of a specialized directed acyclic graph, known as a GADDAG, <a href="http://ericsink.com/downloads/faster-scrabble-gordon.pdf">created by Steven Gordon</a>.
              The underlying data structure is used to dynamically drive the visualization, acting as the primary parameter.
            </li>
            <li>
              The slide features several UI interactions which correspond to insert and query operations on the underlying GADDAG. As users query the GADDAG, nodes are highlighted within along the search
              path used to complete the query. The nodes are colored according to their role within the query, highlighting whether the visited node was directly related to the query parameter, a step in completing
              query, a termination point (where the graph was effectively culled to halt further traveral), or a successful node where a result was found. Highlighting is automatically cleared between
              queries, and may be manually cleared via the clear button. The structure of the GADDAG and each operation are described in the top panel and explorations sections for this slide.
            </li>
          </ul>
        </li>
        <li>
          Conclusion
          <ul>
            <li>
              This is a simple text-only message slide that concludes the presentation.
            </li>
          </ul>
        </li>
      </ol>
      <h4>Technologies used to build and host</h4>
      <p>
        The presentation is built using a combination of the <a href="https://d3js.org/">d3.js</a>, <a href="https://vega.github.io/vega/">vega</a>, and
        <a href="https://vega.github.io/vega-lite/">vega-lite</a> libraries. Some basic styling is provided by the <a href="https://purecss.io/forms/">PureCSS</a> framework, and icon fonts
        by <a href="http://fontawesome.io/">FontAwesome</a>. The general font is <a href="https://fonts.google.com/specimen/Dosis">Dosis</a>, provided via Google Web Fonts The slideshow
        framework and GADDAG implementations were written from scratch using only D3 and native HTML5 browser capabilities. The full source code is available via GitHub at
        <a href="https://github.com/axiomabsolute/gaddag">axiomabsolute/gaddag</a>, and is hosted on my personal statically served website via <a href="https://www.netlify.com/">Netlify</a>
        at <a href="https://axioms.me/gaddag">axioms.me</a>.
      </p>
      <h4>
        Licenses
      </h4>
      <table class="pure-table">
        <thead>
          <tr>
            <th>Library</th>
            <th>License</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>
              D3.js
            </td>
            <td>
              <a href="https://github.com/d3/d3/blob/master/LICENSE">BSD 3-clause "New" or "Revised"</a>
            </td>
          </tr>
          <tr>
            <td>
              Vega
            </td>
            <td>
              <a href="https://github.com/vega/vega/blob/master/LICENSE">BSD 3-clause "New" or "Revised"</a>
            </td>
          </tr>
          <tr>
            <td>
              Vega-Lite
            </td>
            <td>
              <a href="https://github.com/vega/vega-lite/blob/master/LICENSE">BSD 3-clause "New" or "Revised"</a>
            </td>
          </tr>
          <tr>
            <td>
              PureCSS
            </td>
            <td>
              <a href="https://github.com/yahoo/pure/blob/master/LICENSE.md">BSD 3-clause "New" or "Revised"</a>
            </td>
          </tr>
          <tr>
            <td>
              FontAwesome
            </td>
            <td>
              <a href="http://fontawesome.io/license/">SIL OFL 1.1 and MIT</a> for the font and code, respectively
            </td>
          </tr>
          <tr>
            <td>
              Dosis Font
            </td>
            <td>
              <a href="https://fonts.google.com/specimen/Dosis">Open Font License</a>
            </td>
          </tr>
          <tr>
            <td>
              English Open Word List (EOWL)
            </td>
            <td>
              The EOWL is derived from the UK Advanced Cryptics Dictionary and features the following license restriction:

              <em>
              UK Advanced Cryptics Dictionary Licensing Information:

              Copyright Â© J Ross Beresford 1993-1999. All Rights Reserved. The following restriction is placed on the use of this publication: if the UK Advanced Cryptics Dictionary is used in a software package or redistributed in any form, the copyright notice must be prominently displayed and the text of this document must be included verbatim.

              There are no other restrictions: I would like to see the list distributed as widely as possible.
              </em>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </template>

  <template class="slide" id="clabbers-slide">
    <div data-selector=".slide-title">A Game of Anagrams</div>
    <div data-selector=".slide-text">
      <p>
        At its core, Scrabble is a game of <em>anagrams</em>. Each player blindly draws letter tiles from a bag to build up a hand of 7 tiles and
        tries to build up a crossword style board of interconnected words. A key skill for players of the game is the ability to find
        valid words within an otherwise jumbled hand. This presentation explores the challenges of finding valid Scrabble moves and some
        of the techniques players can use to efficiently find valid words. The visualizations use the
        <a href="http://dreamsteep.com/projects/the-english-open-word-list.html">English Open Word List (EOWL)</a>, an open source word list that may
        be freely used to build electronic and traditional word games.
      </p>
      <div>
        <a href="#page-0" id="about-this-presentation" class="pure-button">About This Presentation</a>
      </div>
      <p>
        Below is a sample visualization that describes the structure and setup used in the rest of the presentation. The floating "Explorations" panel at
        the bottom right of the screen provides more details about the structure of the slide show and the interactions supported by each slide.
      </p>
    </div>
    <div data-selector=".slide-controls">
      <form class="pure-form pure-form-stacked">
        <fieldset>
          <legend>
            <span class="pure-form-message">Changes to these form fields will automatically update the visualization.</span>
          </legend>
          <label for="anagram-letters">Letters to Show</label>
          <input id="anagram-letters" type="text" value="SCRABBLE">
        </fieldset>
        <button type="submit" id="anagram-update-button" class="pure-button">Update</button>
      </form>
    </div>
    <div data-selector=".explorations-content">
      <p>
        Throughout this presentation, helpful information will appear in this explorations panel. If you find the panel is in your way,
        <strong>you may dismiss the panel by clicking on the title or Schevron icon</strong> at the top of the panel.
      </p>
      <p>
        Each visualization is designed to be interactive and parameter driven.  Parameters to the visualization will appear on the left-hand side
        of the screen. <strong>Try changing the value in the input field and clicking the update button</strong>. This updates the visualization to
        display the entered letters in a jumbled order. After a brief delay, the letters unscramble themselves to match the order of the input.
      </p>
      <p>
        Any interactions that are not obvious will be described here. For example, <strong>try clicking on one of the colored circles</strong> in the
        visualization area to scramble the letters.
      </p>
      <p>
        To move on to the next visualization, use the arrow and page controls on the right-hand side of the screen.
      </p>
    </div>
  </template>

  <template class="slide" id="two-letter-slide">
    <div data-selector=".slide-title">Small Plays</div>
    <div data-selector=".slide-text">
      <p>
        Two-letter words are the smallest allowable plays in Scrabble. Given that the English alphabet has 26 letters
        and that the game includes at least two of every letter (by including blank tiles)
        there are a total of <strong>26*26=676</strong> possible two-letter plays. Of these, only <strong class="two-letter-plays strong" data-computed="twoLetterPlays"></strong>
        are valid words. The invalid words are called <strong>phonies</strong>. These words may still be played, but the player risks losing their turn if the word
        is challenged by an opponent. A player who incorrectly challenges a word, that is who attempts to challenge a valid word, loses their turn instead.
      </p>
      <p>
        Even in the simple case of two letters, finding valid words and correctly calling out an opponent's phonies can be challenging.
        There are many more phony words than valid words, and many of the valid words are not common in everyday use, like the very first two-letter word,
        <strong>aa</strong>, which is a particular type of lava.
      </p>
    </div>
    <div data-selector=".explorations-content">
      <p>
        <strong>Click the horizontal axis title</strong> to collapse the data along the first letter of each word. The resulting visualization shows the number of valid words
        per starting letter. Note that the horizontal axis has a fixed length of 26, since there are 26 possible letters to pair with each starting letter. Some letters, like
        <code>a</code> may be paired with many other letters to form two-letter words. Others, like <code>c</code>, have very few two-letter combinations. The letter
        <code>v</code> is never used as the first letter of a two letter word!
      </p>
      <p>
        <strong>Hover over marks</strong> to show details about each item, either the individual word's validity or the percentage of two letter words starting with the given letter
        that are valid words, depending on whether the horizontal categorical axis is collapsed.
      </p>
    </div>
  </template>

  <template class="slide" id="sparse-slide">
    <div data-selector=".slide-title">
      Sparseness
    </div>
    <div data-selector=".slide-text">
      <p>
        Correctly identifying valid and invlaid two letter words can be challening for casual players,
        but even novice competitive Scrabble players simply memorize the relatively small two-letter word
        list.
      </p>
      <p>
        As length increases, the number of valid words of that length generally increases, peaking at words
        with 8 letters. On the one hand, this makes finding longer words easier since there are simply more
        options. On the other hand, however, the number of <em>invalid</em> words grows at a much higher
        rate. This notion of <strong>sparseness</strong> makes finding longer playes more difficult, especially
        for new players, who are often simply overwhelmed by the number of invalid words. This visualization illustrates
        the inverse relationship between the number of words by length and the sparseness of valid words by length.
      </p>
      <p>
        Note that restrictions on the number of letters available for gameplay are <em>not</em> taken into account when computing
        the total set of possible plays of each word length. Computing the exact number of possible plays for longer length words
        presents an interesting combinatorial challenge, complicated significantly by the presence of blank tiles, that is beyond
        the scope of this presentation. Instead, a simple upper-bound estimate which assumes that there are always enough letter
        tiles such that a word can have any letter in any position is used.
      </p>
    </div>
    <div data-selector=".slide-controls">
      <form class="pure-form pure-form-stacked">
        <fieldset>
          <label for="toggle-aggregation">Toggle Aggregation Type</label>
          <button type="button" id="toggle-aggregation" class="pure-button">Show Counts By Length</button>
        </fieldset>
        <fieldset>
          <label for="axis-power">Y-Axis Power Scale Exponent</label>
          <input id="axis-power" type="range" value="1" min=".1" max="1" step=".1">
          <span class="pure-form-message">Range [.1, 1], currently <span class="current-axis-power">1</span></span>
        </fieldset>
      </form>
    </div>
    <div data-selector=".explorations-content">
      <p>
        Use the controls on the left to explore the relationship between the <em>number</em> of words of each length and
        the relative <em>sparseness</em> of valid words of that length.
      </p>
      <p>
        The button toggles the chart between displaying the count of words of each length and the percentage of words of that length
        that are valid words. Notice that while there are many more 8-letter than 2-letter words, valid 8-letter words are in fact
        much more sparse.
      </p>
      <p>
        The scale of both the counts and percentages of valid words is fairly large, spanning several orders of magnitude. To help ensure the smaller values
        are still visible, use the <strong>Y-Axis Power Scale Exponent</strong> slider control to adjust the exponent used to generate the power scale in the y-axis. When the slider
        is set to 1 the scale behaves linearly, while lower exponents help emphasize the smaller values. Note that the marks along the y-axis compress
        more and more as they reach the top of the chart.
      </p>
    </div>
  </template>

  <template class="slide" id="patterns-slide">
    <div data-selector=".slide-title">
      Patterns: Prefixes, Suffixes, and Other Patterns
    </div>
    <div data-selector=".slide-text">
      <p>
        Players often rely on simple linguistic patterns to help more efficiently identify valid plays. These patterns take the form of
        <strong>prefixes</strong>, <strong>suffixes</strong>, and other common combinations of letters.
      </p>
      <p>
        The suffix <code>-ing</code> is commly used in English to form the <a href="https://en.wikipedia.org/wiki/-ing">present participle</a> of a verb, such as the form of
        the verb "swim" in the sentence "I like swimming". It may also be added to a verb to make it behave like a noun, creating what is known as the <strong>gerund</strong>
        form of the verb, such as the word "programming" in the sentence "Programming is fun". It is also quite commonly used independently in
        both nouns and adjectives, such as "ceiling" and "morning".
      </p>
      <p>
        There are several ways that players can use patterns to efficiently find valid words. Once a player has identified that they have a pattern in their hand,
        they can ignore those letters and focus on the remaining letters to find a smaller compatible word to
        add the prefix or suffix to.  For example, if the player has the letters <code>ing</code> in their hand, they can focus on looking for a verb within the
        remaining 4 letters of their hand, since most verbs can take the suffix <code>-ing</code>. Further, some combinations of letters are used almost exclusively
        together in a particular pattern. For example, given that a word contains the letters "i", "n", and "g", the probability that those letters are used in the sequence "ing"
        is nearly 80%.
      </p>
      <p>
        Lastly, prefixes and suffixes are often used together. If a player can identify both a prefix and suffix in their hand they can sometimes find
        existing words on the board that can simply be augmented to create larger plays. For example, with the letters <code>deer</code> in hand,
        the player can form the prefix <code>re-</code> and suffix <code>-ed</code>, allowing them to play off of many English verbs simply by prepending and
        appending the prefix and suffix to the existing play.
      </p>
    </div>
    <div data-selector=".slide-controls">
      <form class="pure-form pure-form-stacked">
        <fieldset>
          <label for="word-pattern">Pattern</label>
          <input type="text" value="ing" id="word-pattern">
          <button class="update-button pure-button" type="submit">Update</button>
        </fieldset>
        <hr />
        <fieldset>
          <legend>
            <span class="pure-form-message">The label <code>p(ing)|ing</code> may be read as "the probability that the exact pattern 'ing' occurs given that
             the letters 'i', 'n', and 'g' occur in any position within a word".</span>
          </legend>
        </fieldset>
      </form>
    </div>
    <div data-selector=".explorations-content">
      <p>
        Using the default pattern parameter <code>ing</code>, note the first bar of the left hand chart of the visualization. This bar represents
        the probability of a word containing the exact sequence <code>ing</code> given that it contains each letter of the sequence individually. Thus,
        the word <code>singer</code> would be counted, but <code>gin</code> would not. Hovering over the bar displays a tooltip with relevant values. Note that
        nearly 79% of words with "i", "n",  and "g" in them contain the exact sequence "ing". This means that if a player has the letters "i", "n", and "g" in hand
        then most valid plays containing those letters contain the exact pattern "ing", allowing them to focus their search efforts. Also note from the second bar
        of the same chart that nearly 60% of words with "n" and "g" also contain an "i". This means that most valid words containing "n" and "g" also contain an "i",
        implying that if a player has an "n" and "g" in hand but does <em>not</em> have an "i" then they are less likely to have a valid word in hand.
      </p>
      <p>
        The second chart highlights the relationship between different patterns. For example, the most common pattern to pair with <code>ing</code> is the suffix
        <code>-s</code> (as in the word <code>fittings</code>), with 1922 valid words. This chart suggests companion prefixes and suffixes which may likely be combined
        with the user entered pattern to form a valid word. Words constructed by combining a <strong>stem</strong> with a prefix or suffix are known as
        <a href="https://en.wikipedia.org/wiki/Affix">affix morphemes</a>.
      </p>
      <p>
        Try updating the pattern parameter to <code>qu</code>, a two letter pattern with an exremely high coocurrence reate in the English language. Given that a word
        contains the letters "q" and "u", how likely is it that the word contains the exact sequence "qu"? Given that a word contains the letter "q", how likely is it
        that it contains a "u"? Does that relationship hold the other way around?
      </p>
      <p>
        Try an unusual combination of letters, such as <code>syr</code>, which shows up in words such as <code>syringe</code>. Given that a word contains "s", "y", and "r"
        independently, how likely is it that it contains the exact sequence "syr"?
      </p>
      <p>
        Try a technical suffix, like <code>nym-</code>. What words might be formed by combining that suffix with the suggested prefixes?
      </p>
    </div>
  </template>

  <template class="slide" id="gaddag-slide">
    <div data-selector=".slide-title">
      Computer Aided Play Finding with a GADDAG
    </div>
    <div data-selector=".slide-text">
      <p>
        A <strong>GADDAG</strong> is a data structure <a href="http://ericsink.com/downloads/faster-scrabble-gordon.pdf">created by Steven Gordon</a> to
        enable Scrabble playfinding and board analysis programs.
      </p>
      <p>
        The data structure is a specialized form of a <a href="https://en.wikipedia.org/wiki/Trie">trie</a> which stores multiple paths for each word for more
        efficient query capabilities. For each position in each word, a path is stored starting at the position and walking backwards to the beginning
        of the word. This path is known as the <strong>prefix</strong>. At that point, a special token called the <strong>turn token</strong>, represented by the
        character <code>></code>, is inserted. Following the turn token, the remainder of the word is inserted in the original order that it appeared for the word.
        This portion of the path is known as the <strong>suffix</strong>. These prefixes and suffixes are not to be confused with their linguistic counterparts, and
        are used solely to refer to portions of a word relative to how they're stored in the GADDAG.
      </p>
      <p>
        To read an individual path for a word, start at a <strong>turn node</strong>, represented in orange, and follow the edges backward towards the root node on the
        left. These letters, in the order they are traversed from the turn node, form the prefix of the words stored along that path. Returning to the same turn node,
        follow the edges leading away from the root node towards a green node, which represents the end of a valid word. This portion forms the suffix of a word stored
        along that path. Combining the computed prefix and suffix forms a complete valid word. For example, starting at the top-most turn node in the default visualization,
        follow the edges to the left that lead back to the root node. This process yield the prefix <code>c</code>. Returning to the same root node at the top, follow the
        edges leading to the right towards a complete word. In this case, there is only one path, which yields the suffix <code>all</code>. Since the final node is a
        complete word (represented by a green dot), the combination of the prefix and suffix yields a complete word, <code>call</code>.
      </p>
      <p>
        This layout may seem overly verbose and unintuitive, but there are two benefits to this trie layout. First, it enables a deterministic, efficient algorithm to
        generate all valid words given a lexicon, a player's hand, and optionally an existing board position, allowing the system to search for words by starting at any
        point within the word. Second, it enables a significant amount of the trie to be minimized during construction by re-using the nodes used to represent the suffixes
        of a word. This partial minimization of the trie, which suffix nodes reused within a word's subtree, restructures the trie as a directed acyclic graph (DAG).
      </p>
      <p>
        The GADDAG is one of two primary data structures used in Scrabble playing AIs for move generation, and in particular is used in the
        <a href="http://people.csail.mit.edu/jasonkb/quackle/doc/how_quackle_plays_scrabble.html">Quackle</a> system. The visualization below illustrates some of the
        basic move finding and work validation operations supported by the GADDAG.
      </p>
    </div>
    <div data-selector=".slide-controls">
      <form class="pure-form pure-form-stacked">
        <fieldset>
          <label for="add-word">Add Word</label>
          <input type="text" value="" id="add-word">
          <button class="add-word-button pure-button" type="submit">Add</button>
        </fieldset>
      </form>
      <form class="pure-form pure-form-stacked">
        <fieldset>
          <label for="check-validity">Check Validity</label>
          <input type="text" value="call" id="check-validity">
          <button class="check-validity-button pure-button" type="submit">Check</button>
        </fieldset>
      </form>
      <form class="pure-form pure-form-stacked">
        <fieldset>
          <label for="prefix-words">Words for Prefix</label>
          <input type="text" value="" id="prefix-words">
          <button class="prefix-words-button pure-button" type="submit">Search</button>
        </fieldset>
      </form>
      <form class="pure-form pure-form-stacked">
        <fieldset>
          <label for="suffix-words">Words for Suffix</label>
          <input type="text" value="" id="suffix-words">
          <button class="suffix-words-button pure-button" type="submit">Search</button>
        </fieldset>
      </form>
      <form class="pure-form pure-form-stacked">
        <fieldset>
          <label for="words-containing">Words Containing</label>
          <input type="text" value="" id="words-containing">
          <button class="words-containing-button pure-button" type="submit">Search</button>
        </fieldset>
      </form>
      <form class="pure-form pure-form-stacked">
        <fieldset>
          <label for="words-for-hand">Words for Hand</label>
          <input type="text" value="" id="words-for-hand">
          <button class="words-for-hand-button pure-button" type="submit">Search</button>
        </fieldset>
        <fieldset>
          <button class="clear-highlight-button pure-button" type="button">Clear</button>
        </fieldset>
      </form>
    </div>
    <div data-selector=".explorations-content">
      <p>
        By default, the GADDAG in the visualization contains a single word, <code>call</code>. Starting at the root, there is a path
        for each possible prefix for the word, in reverse order. That is, for the word "call", there is a path for <code>llac</code>,
        <code>lac</code>, <code>ac</code>, and <code>c</code>. Each such reversed prefix path is followed by a special separator node
        indicated by the <code>></code> character, called the <strong>turn token</strong>. Following the turn token for each path is
        the remainder of the word. For instance, the prefix path <code>ac</code> is followed by the turn token <code>></code> and
        then by the suffix path <code>ll</code>. Traversing the structure from the root to a turn token yields a reversed prefix for a word.
        Traversing from a turn token to a complete word node yields a word suffix (in the order it originally appeared in the word). Combining
        these two yields a complete word.
      </p>
      <p>
        The control panel contains several input boxes and associated buttons. Each input and button combination corresponds to one of
        the basic operations supported by the GADDAG. Words that match the given query are displayed below the legend in a list. Each
        input and button combination is described below:
      </p>
      <ol>
        <li>
          Adds a word to the GADDAG, constructing the nodes and edges necessary to represent the newly added word.
        </li>
        <li>
          Checks whether a word is valid by searching for the exact sequence provided in the GADDAG.
        </li>
        <li>
          Finds all words with the given prefix by first searching for the exact sequence in reverse, then returning
          all possible suffix paths if the next node is a turn token, otherwise halting.
        </li>
        <li>
          Finds all words with the given suffix by traversing from the root along the supplied suffix in reverse, halting if any letter
          along the way is not found, then traversing all paths until a complete word node is found.
        </li>
        <li>
          Finds all words containing the given pattern by initially treating the pattern a prefix, then continuing to traverse all paths until
          a turn token is found, then traversing the graph the turn token to find all paths.
        </li>
        <li>
          Finds all words that match a given hand. Use the <code>?</code> character to represent a blank tile (that is, a tile which
          matches any letter, e.g. <code>?all</code> would match both <code>call</code> and <code>fall</code>).
        </li>
      </ol>
      <p>
        Each operation highlights relevant nodes traversed during the operation. Nodes that are not traversed are grayed out. The legend
        on the right side of the visualization describes the meaning of each color. The <code>Clear</code> button clears the current path
        highlighting.
      </p>
      <p>
        Add the words <code>care</code>, <code>card</code>, and <code>falls</code>. How many paths are searched to look for the prefix
        <code>cal</code>? How about just <code>ca</code>? What does the path look like when searching for the suffix <code>s</code>?
      </p>
      <p>
        Clear the path highlighting by clicking the "clear" button (you may have to scroll the page to reach it).  Pay very close attention to
        the graph when performing this next operation: add the word <code>fall</code>. What changed? Did the structure of the graph change?
        It shouldn't! This operation shows the efficiency of how overlapping words are encoded in the GADDAG. When one word completely overlaps
        another, (as is the case for <code>falls</code> and the newly added word <code>fall</code>) the strucutre of the GADDAG does not change?
        at all, rather existing nodes are simply marked as representing complete words. In this case, two nodes change color from blue to green.
      </p>
      <p>
        How many words match the hand <code>acdeflrs?</code>? Node that the <code>?</code> character in the hand represents a blank tile for this
        operation only. Note that this operation highlights many more paths within the GADDAG, producing many more false starts (with more nodes
        highlighted in red to indicate a halted search traversal path).
      </p>
    </div>
  </template>

  <template id="conclusion-slide">
    <div data-selector=".slide-title">
      Conclusion
    </div>
    <div data-selector=".slide-text">
      <p>
        Identifying valid Scrabble moves presents a challenge to both human and AI players. This presentation explored one small aspect of that
        challenge, namely the task of finding valid words within a jumbled set of letters.
      </p>
      <p>
        For human players, the overwhelming <strong>sparseness</strong> of valid words among the vast set of playable (though potentially
        <strong>phony</strong>) words becomes the bottleneck for play finding. One technique to aid human players is to focus on common linguistic
        patterns within the host language to build compound words and affix morphemes out of prefixes, suffixes, and smaller valid words. Furthermore, considering the
        relationships among the letters within a particular pattern can help human guide how human players search for valid words, prioritizing the
        most common letter configurations. Lastly, combining multiple affixes and knowing which affixes may be commonly combined can help players construct even larger
        plays. These techniques provide a useful starting point, but necessarily make a trade-off as the player's focus shifts away from the valuable set of words which
        do not contain such patterns.
      </p>
      <p>
        Computer AIs can evaluate plays much more quickly than human players, and have the benefit of perfect recall. The GADDAG data structure provides one method of
        storing a lexicon in such a way that valid plays may be efficiently searched for by prefix, suffix, substring containment, or with hand restrictions.
        While this gives computer AIs some advantages, there are still many aspects of advanced Scrabble gameplay that are not covered by the
        techniques demonstrated here. Evaluating and choosing the best play is much more complicated, and involves considering the active board shape,
        tracking the remaining letters based on the currently visible letters, managing the player's remaining letters after a play to enable better subsequent plays
        (a process called <strong>rack management</strong>), and much more. The top tier
        <a href="https://en.wikipedia.org/wiki/Maven_%28Scrabble%29">Maven</a> Scrabble playing AI incorporates these aspects and many more. Interestingly, though the GADDAG
        offers better performance, Maven uses a <a href="https://en.wikipedia.org/wiki/Maven_(Scrabble)">more memory compact, less runtime efficient</a> data structure known as a
        <a href="https://en.wikipedia.org/wiki/Suffix_automaton">Directed Acyclic Word Graph (DAWG)</a> to enable smaller build artifact sizes for downloaded games.
      </p>
      <p>
        Despite advances in game playing AI systems, Scrabble continues to be a fun and challenging game for players and a rich, interesting topic of study for data scientists,
        statisticians, and mathematicians.
      </p>
    </div>
  </template>

  <template id="layout-exploration-slide">
    <div class="exploration-slide">
      <div class="slide-header card">
        <h3 class="slide-title"></h3>
        <div class="slide-text"></div>
      </div>
      <div class="slide-body">
        <div class="card">
          <h4>
            Visualization Parameters
          </h4>
          <div class="slide-controls">
            <div class="text-muted">
              This visualization does not feature any parameters.
            </div>
          </div>
        </div>
        <div class="slide-visual card">
          <svg id="viz" height="650" width="1040"></svg>
        </div>
        <div class="slide-explorations card card--reversed">
          <div class="explorations-handle">
            <i class="collapse-status-icon fa"></i> Explorations
          </div>
          <div class="explorations-content">
            <div class="text-muted">
              There are no recommended explorations for this visualization.
            </div>
          </div>
        </div>
      </div>
    </div>
  </template>

  <template id="layout-message-slide">
    <div class="message-slide">
      <div class="message card">
        <h3 class="slide-title"></h3>
        <div class="slide-text"></div>
      </div>
    </div>
  </template>

  <div class="tooltip"></div>

  <script src="https://use.fontawesome.com/f40c084173.js"></script>
   <script src="https://vega.github.io/vega/vega.min.js"></script> 
  <script src="https://cdnjs.cloudflare.com/ajax/libs/vega-lite/2.0.0-beta.10/vega-lite.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/vega-embed/3.0.0-beta.19/vega-embed.js"></script>
  <script src="./dist/vendor.js"></script>
  <script src="./dist/bundle.js"></script>
</body>

</html>